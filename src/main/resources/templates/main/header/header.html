<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/header.css">
</head>
<body>
    <!-- 카테고리 hover 되었을 때 box-shadow 없애야함 -->
    <header class="Header-Layout">
        <th:block th:object="${session.user}">
        <div class="Header-Container">
            <div class="Header-UpperContent">
                <div class="UpperContent-LeftContent">
                    <!-- 나중에 경로 변경 -->
                    <div class="LeftContent-logo">
                        <img th:href="@{/store/list}" src="/images/haetsal-jangteo-logo.svg" alt="햇살장터 로고">
                    </div>
                </div>
                <div class="UpperContent-RightContent">
                    <th:block th:if="${session.user != null}">
                        <button th:id="${session.user.id}" type="button" class="UpperContent-items-button">장바구니</button>
                        <!-- 분리용 svg -->
                        <svg width="1" height="16" viewBox="0 0 1 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="16" fill="#E4E4E4"></rect></svg>

                        <!-- 로그인 시 나타나야할 div display: flex -->
                        <div aria-label="찜한 상품" class="UpperContent-items-icon">
                            <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.4988 6.81131L10.8016 5.27789C9.10432 3.74471 6.284 4.08858 4.73976 5.78906C2.80019 7.83319 2.80009 11.2928 4.8524 13.4559L12.499 20.9404L20.1452 13.4559C22.1975 11.2928 22.1976 7.83355 20.2578 5.78906C18.7136 4.08858 15.8934 3.74477 14.1961 5.27789L12.4988 6.81131ZM19.0031 12.3349C20.4713 10.7663 20.4252 8.29008 19.0971 6.89031L19.0851 6.87764L19.0733 6.86471C18.0257 5.71106 16.21 5.61505 15.2687 6.46513L12.4988 8.9676L9.72908 6.4652C8.78787 5.61512 6.97191 5.71104 5.92423 6.86471L5.91247 6.87766L5.90042 6.89036C4.5726 8.28976 4.52629 10.7663 5.99449 12.3349L12.499 18.7015L19.0031 12.3349Z" fill="#0D0D0D"></path></svg>
                        </div>

                        <!-- 로그인 시, class에 onlogin 달아줘야 함 -->
                        <div class="UserProfile-Button-Wrapper onlogin">
                            <div class="UserProfile-Button-Container">
                                <img th:src="@{/api/files/display(filePath=${session.user.fileSavedPath}, fileName=${session.user.fileName})}" alt="profile-img">
                            </div>
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.99967 11.3335L2.66634 6.33353L3.73306 5.33349L7.99967 9.33342L12.2663 5.3335L13.333 6.33353L7.99967 11.3335Z" fill="#6D6D6D"></path></svg>

                            <!-- 유저 메뉴 -->
                            <div class="UserProfile-Menu-Wrapper off">
                                <div class="UserProfile-MenuList">
                                    <div class="MenuList-UserProfile">
                                        <img th:src="@{/api/files/display(filePath=${session.user.fileSavedPath}, fileName=${session.user.fileName})}" alt="" class="MenuList-UserProfile-img">
                                        <div class="MenuList-UserProfile-name">
                                            <p class="MenuList-UserProfile-p" th:text="*{userName}"></p>
                                        </div>
                                    </div>
                                    <div class="MenuList-DividerBar"></div>
                                    <div class="MenuList-Content mypage">프로필</div>
                                    <div class="MenuList-DividerBar"></div>
                                    <div class="MenuList-Content likeItems">내 찜 목록</div>
                                    <div class="MenuList-Content editInfo">내 정보 수정</div>
                                    <div class="MenuList-DividerBar"></div>
                                    <a class="MenuList-Content logout" th:if="${session.user.authProvider == 'SOCIAL'}" href="https://kauth.kakao.com/oauth/logout?client_id=9ffffff5782a2590a40ff8f0f6d03bda&redirect_uri=http://3.36.65.137/user/login">로그아웃</a>
                                    <a class="MenuList-Content logout" th:unless="${session.user.authProvider == 'SOCIAL'}" href="/user/logout">로그아웃</a>
                                </div>
                            </div>
                        </div>
                    </th:block>
                    <th:block th:unless="${session.user != null}">
                        <div class="UserProfile-Button-Wrapper">
                            <div class="UserProfile-Button-Container">
                              <a th:href="@{/user/login}">로그인 / 회원가입</a>
                            </div>
                        </div>
                    </th:block>
                </div>
            </div>
            <div class="Header-BottomContent">
                <div></div>
                <div class="BottomContent-Navigation">
                    <nav class="BottomContent-Category-Section">
                        <a th:href="@{/store/list}" class="Category-Section-Category">장터 선택</a>
                    </nav>
                </div>
            </div>
        </div>
        </th:block>
    </header>
</body>
<script src="/js/header/header.js"></script>
</html>